<!DOCTYPE html>
<html lang="en">
  <head>
  <title>Subsurface Scattering</title>
  <link rel="stylesheet" href="/assets/css/styles.css" />
  <!-- generics -->
  <link rel="icon" href="/assets/Images/favicons/favicon_32.png" sizes="32x32" />
  <link rel="icon" href="/assets/Images/favicons/favicon_128.png" sizes="128x128" />
  <link rel="icon" href="/assets/Images/favicons/favicon_192.png" sizes="192x192" />

  <!-- Android -->
  <link rel="shortcut icon" href="/assets/Images/favicons/favicon_196.png" sizes="196x196" />

  <!-- iOS -->
  <link
    rel="apple-touch-icon"
    href="/assets/Images/favicons/favicon_152.png"
    sizes="152x152"
  />
  <link
    rel="apple-touch-icon"
    href="/assets/Images/favicons/favicon_167.png"
    sizes="167x167"
  />
  <link
    rel="apple-touch-icon"
    href="/assets/Images/favicons/favicon_180.png"
    sizes="180x180"
  />

  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Subsurface Scattering | Cédric Van Huffelen</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="Subsurface Scattering" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Almost every material in the real world is slightly translucent, this means that light enters the material and is scattered around and then exits the surface. In computer graphics, this is mostly done with ray tracing. This, however, is a very expensive computation to use in real-time so other methods have to be used. I have updated the Unity’s standard shader based on Dice’s implementation which presents a fast and scalable approximation of translucency for a convincing subsurface scattering look." />
<meta property="og:description" content="Almost every material in the real world is slightly translucent, this means that light enters the material and is scattered around and then exits the surface. In computer graphics, this is mostly done with ray tracing. This, however, is a very expensive computation to use in real-time so other methods have to be used. I have updated the Unity’s standard shader based on Dice’s implementation which presents a fast and scalable approximation of translucency for a convincing subsurface scattering look." />
<link rel="canonical" href="http://localhost:4000/portfolio/subsurfaceScattering.html" />
<meta property="og:url" content="http://localhost:4000/portfolio/subsurfaceScattering.html" />
<meta property="og:site_name" content="Cédric Van Huffelen" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-05T00:13:15+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Subsurface Scattering" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"dateModified":"2021-09-05T00:13:15+02:00","datePublished":"2021-09-05T00:13:15+02:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/portfolio/subsurfaceScattering.html"},"url":"http://localhost:4000/portfolio/subsurfaceScattering.html","description":"Almost every material in the real world is slightly translucent, this means that light enters the material and is scattered around and then exits the surface. In computer graphics, this is mostly done with ray tracing. This, however, is a very expensive computation to use in real-time so other methods have to be used. I have updated the Unity’s standard shader based on Dice’s implementation which presents a fast and scalable approximation of translucency for a convincing subsurface scattering look.","headline":"Subsurface Scattering","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- for mathjax support -->
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>
  <script
    type="text/javascript"
    async
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
  ></script>
  
</head>


  <body>
    <!-- Navigation -->
<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light fixed-top">
  <div class="container">
    <a href="/index.html">
    <img src="/assets/Images/favicons/favicon_128.png" alt="">
    </a>
      <a class="navbar-brand" href="/index.html">Cédric Van Huffelen</a>
          <span class="navbar-text">
            Technical Artist | Unity Developer
          </span>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
              data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
              aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto list-unstyled">
            
              <li
              
              class="nav-item">
              
                <a class="nav-link" href="/tutorials.html">Tutorials</a>
              </li>
            
              <li
              
              class="nav-item">
              
                <a class="nav-link" href="/portfolio.html">Portfolio</a>
              </li>
            
              <li
              
              class="nav-item">
              
                <a class="nav-link" href="/professionalWork.html">Professional Work</a>
              </li>
            
              <li
              
              class="nav-item">
              
                <a class="nav-link" href="/resume.html">Resume</a>
              </li>
            
              <li
              
              class="nav-item">
              
                <a class="nav-link" href="/about.html">About</a>
              </li>
            
          </ul>
      </div>
  </div>
</nav>

    <!-- Page Content -->
    <div class="container">
      <p></p>

      <!-- Page Heading/Breadcrumbs -->
      <h1>
        Subsurface Scattering
        <small class="blockquote text-center"></small>
      </h1>

      <p>Almost every material in the real world is slightly translucent, this means that light enters the material and is scattered around and then exits the surface.
In computer graphics, this is mostly done with ray tracing. This, however, is a very expensive computation to use in real-time so other methods have to be used. I have updated the Unity’s standard shader based on Dice’s implementation which presents a fast and scalable approximation of translucency for a convincing subsurface scattering look.</p>

<div class="align-content-center">
    <div class="card">
        <img class="card-img-top" src="/assets/Images/subsurfacescattering/SubsurfaceScattering1400x800.webp" />
    </div>
</div>

<hr />

<h3 id="technique-details">Technique Details</h3>

<p>To simulate the basic light transport inside an object we begin by using <strong>distance-attenuated regular diffuse lighting, combined with the distance-attenuated dot product of the view vector and an inverted light vector.</strong> However, this does not take the thickness into account. To properly compute the light transport inside the shape we could use a local thickness map, since they allow us to compute the distance travelled by the light from the light source through the shape and to the pixel. This map uses dark values where the object is opaque and bright values for translucent.</p>

<script src="https://gist.github.com/Shaderic/f3720c0cb74275c3fd0d26e766e5de29.js"></script>

<p><br /></p>

<h3 id="computing-local-thickness-maps">Computing Local Thickness maps</h3>

<p>The workflow of creating a local thickness map relies on a normal inverted computation of Ambient Occlusion (AO). Since AO determines how much light arrives at a surface point, we can use this information for the inside of the shape. Simply inverting the AO map gives different results than the workflow explained below.</p>

<ul>
  <li>Flip the normals and make sure your mesh is properly UV-unwrapped.</li>
  <li>Set the <strong>Dark</strong> color to the maximum value you want for translucency (white - max, black - min).</li>
  <li>Set the <strong>Bright</strong> color to the minimum value you want for translucency.</li>
  <li>The <strong>Max distance</strong> is the distance traveled by the rays. If you have a big object, make the distance larger. The opposite for a small object.</li>
</ul>

<div class="align-content-center">
    <div class="card">
        <img class="card-img-top" src="/assets/Images/subsurfacescattering/AOvsIAOvsThickness_1050x600.webp" />
        <div class="card-body">
            <div class="card-text">The difference between thickness map (left), ambient occlusion (middle) and the
                inverted ambient occlusion (right)
            </div>
        </div>
    </div>
</div>

<p><br /></p>

<h3 id="references">References</h3>

<p><a href="https://colinbarrebrisebois.com/2011/03/07/gdc-2011-approximating-translucency-for-a-fast-cheap-and-convincing-subsurface-scattering-look/" target="_blank">Approximating Translucency for a Fast, Cheap and Convincing Subsurface Scattering Look</a> <br />
<a href="https://colinbarrebrisebois.com/2011/04/04/approximating-translucency-part-ii-addendum-to-gdc-2011-talk-gpu-pro-2-article/" target="_blank">Creating Thickness maps in 3ds max</a></p>

    </div>
    <!-- /.container -->

    <!-- Footer -->
<footer class="bg-light page-footer font-small pt-4">
  <!-- Footer Elements -->
  <div class="footer-links">
    <!-- Social buttons -->
    <ul class="list-unstyled list-inline text-center">
      <li class="list-inline-item ">
        <a href="https://github.com/Shaderic" target="_blank">
          <img src="/assets/icons/iconmonstr-github-1.svg" alt="" width="32" height="32" />
        </a>
      </li>
      <li class="list-inline-item">
        <a href="https://twitter.com/Shaderic_" target="_blank">
          <img src="/assets/icons/iconmonstr-twitter-1.svg" alt="" width="32" height="32" />
        </a>
      </li>
      <li class="list-inline-item">
        <a href="https://www.linkedin.com/in/cédric-van-huffelen" target="_blank">
          <img src="/assets/icons/iconmonstr-linkedin-3.svg" alt="" width="32" height="32" />
        </a>
      </li>
    </ul>
    <!-- Social buttons -->
  </div>
  <!-- Footer Elements -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">
    Copyright &copy; Cédric Van Huffelen 2021
  </div>
  <!-- Copyright -->
</footer>
<!-- Footer -->

<script
  src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
  integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
  crossorigin="anonymous"
></script>
<script
  src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
  integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
  crossorigin="anonymous"
></script>

  </body>
</html>
